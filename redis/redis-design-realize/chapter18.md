# 事务

### 一

  事务提供了一种将多个命令打包，然后一次性，有序执行的机制。

  多个命令会被放入事务队列中，按照先进先出的顺序执行。

### 二

  当采用watch命令的事务会将客户端和被监视的键在数据库中的watched_key字典中进行关联，当键被修改的话，程序会将所有监视被修改的客户端的REDIS_DIRTY_CAS标志打开。

  所有当REDIS_DIRTY_CAS标记未被打开的时候，才会提交事务