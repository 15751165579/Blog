# RDB

### RBD的创建与载入

  Redis作为内存数据库，一旦程序退出进程，那么保存在内存中的数据就会丢失，显然Redis在程序重启时，仍然可以保留数据，这里就需要了解Redis持久化的相关知识。

  Redis中有两种持久化的方式:

  - RDB
  - AOF

  它们对应的命令有：SAVE、BGSAVE、BGREWRITEAOF。

  通常情况下，AOF的更新频率高于RDB文件更新，默认的配置下，Redis采用RDB持久化，如果开启AOF，那么Redis则优先采用AOF文件还原数据库状态。

  这里的SAVE是一个运行在主进程上的操作，而另外两个命令则是采用子进程的运行方式，为了避免资源竞争的问题，Redis限制了这个三个命令的执行时机。例如：正在执行BGSAVE时，是不可以执行SAVE操作的。

  而当我们重新启动Redis时，它会根据配置RDB或者是AOF来判断通过那种方式还原数据库状态。