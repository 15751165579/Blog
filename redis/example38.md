# 深入字典遍历

  在字典的遍历过程中，字典可能正在进行rehash。可能造成的问题：

  - 一边查询一边修改，会不会造成指针安全问题
  - 遍历出的元素重复

### 安全迭代 VS 非安全迭代

  Redis中内部使用两种迭代方式：

  - 安全迭代： 在遍历的过程中，可以执行查找和修改操作，会触发过期判断，删除内部元素，为了保证不重复，禁止rehashStep。

  - 非安全迭代： 在遍历的过程中只读，这就意味着你拿到的数据可能是重复的。