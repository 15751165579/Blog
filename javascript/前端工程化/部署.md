# 前端部署相关知识

#### 1、缓存的精确控制

  - 协商缓存 304 需要与服务器通信一次
  - 强制缓存 200 直接读取本地缓存

  只对静态资源进行缓存。

  既然使用了缓存，那么就涉及到静态资源的更新

```s
  a.css?v=1.2.2
```

  这种方式固然可以解决缓存更新的问题，但是对于大型web项目而言，并不是所有的静态资源文件都存在更改的情况

```s
  a.css?v=eesa12
```

  对于文件进行内容摘要，这样避免不必要的更新，从而实现缓存的精确控制。

  一般静态资源都会与动态页面分开部署，静态资源放在CDN上。非覆盖式部署

  1. 全量部署静态资源（将摘要信息放入静态资源路径中）
  2. 灰度部署动态页面


  - 超长本地缓存 --> 节省带宽
  - 对文件进行内容摘要 --> 精确控制缓存
  - CDN --> 优化网络请求
  - 非覆盖式发布 --> 平滑升级